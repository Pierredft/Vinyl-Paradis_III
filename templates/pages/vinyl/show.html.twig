
{% extends 'base.html.twig' %}

{% block title %}Vinyl Paradise - ShowVinyl{% endblock %}

{% block body %}
        <img class="img-fluid p10 mx-auto d-block" src="{{ asset('/images/imgDisc/' ~ disque.image) }}" alt="#">
        <h1 class="text-center text-danger">{{disque.artiste.nom}}</h1>
        <h2 class="text-center text-success">{{disque.title}}</h2>
        <h3 class="text-center text-warning">{{disque.subtitle}}</h3>
        {% if disque.genre is iterable and disque.genre|length > 0 %}
            {% set genres = [] %}
            {% for genre in disque.genre %}
                {% set genres = genres|merge([genre.nom]) %}
            {% endfor %}
            <h5 class="card-title text-center text-info">{{ genres|join(', ') }}</h5>
        {% endif %}
        <div class="d-flex justify-content-center">
            <p class="text-white text-center mt-3" style="width: 80%;">{{disque.description}}</p>
        </div>
        <div class="prixPanier">
            <p class="mr5 text-white mt-3">Prix :</p>
            <p class="text-white mt-3">{{ disque.price|number_format(2, '.', '') }}</p>
            <p class="mr20 text-white mt-3">€</p>
            {% if app.user %}
                {% if disque.quantity > 0 %}
                    <form action="{{ path('add', {'id': disque.id}) }}" method="post">
                        <input class="" type="number" name="quantity" min="1" max="{{ disque.quantity }}" value="1">
                        <button type="submit" class="shopBtn text-white btnStyle"><i class="fa-solid fa-cart-shopping fa-xl" style="color: #D02A2A;"></i></button>
                        </form>
                    {% endif %}
            {% endif %}
        </div>
        {% if disque.quantity <= 3 %}
            <p class="card-text text-center text-danger">Quantité restante : {{ disque.quantity }}</p>
        {% endif %}
        <div class="posBtn mt-3 mb-3">
            <a href="{{path('app_vinyl')}}" class="btn btn-danger ms-4">Retour au disque</a>
        </div>
{% endblock %}
    
    
    
    
    
    
    
    {# <a href="{{path('app_vinyl')}}" class="btn btn-info ms-4">Return</a>
    <h4 class="card-title text-center text-warning">{{ disque.subtitle }}</h4>
                        {% for genre in disque.genre %}
                            <h5 class="card-title text-center text-info">{{ genre.nom }}</h5> 
                        {% endfor %}
                        <p class="card-text text-center text-white">{{ disque.description }}</p>
                        <div class="prixPanier">
                            <p class="mr5 text-white mt-3">Prix :</p>
                            <p class="text-white mt-3">{{ disque.price|number_format(2, '.', '') }}</p>
                            <p class="mr20 text-white mt-3">€</p>
                            {% if app.user %}
                                {% if disque.quantity > 0 %}
                                    <form action="{{ path('add', {'id': disque.id}) }}" method="post">
                                        <input class="" type="number" name="quantity" min="1" max="{{ disque.quantity }}" value="1">
                                        <button type="submit" class="shopBtn hidden text-white"><i class="fa-solid fa-cart-shopping fa-xl" style="color: #D02A2A;"></i></button>
                                    </form>
                                {% endif %}
                            {% endif %}
                        </div>
                        {% if disque.quantity <= 3 %}
                            <p class="card-text text-center text-danger">Quantité restante : {{ disque.quantity }}</p>
                        {% endif %}
    <div class="d-flex flex-row mb-3 text-justify justify-content-center justify-content-around">
    <img src="{{asset('/images/imgDisc/'~ disque.image) }}" class="card-img-top img-fluide p-2" style="width:20%" alt="img">
    <p class="p-2 d-flex align-items-center text-dark" style="width:50%">{{disque.description}}</p>
    </div>
    <a href="{{ path('add', {'id' : disque.id})}}" class="btn btn-primary ms-4" >Add to cart</a>
    {% endfor %}
{% endblock %} #}
